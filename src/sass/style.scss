/*!
 * React WeChat - WeChat User Interface by ReactJS.
 * Created by @JustClear at 2016-03-09
 * Updated at: 2016-03-09
 */

// ====================================
// Global
// ====================================

$unit: 14px;
$font-family: 'MicroSoft Yahei';
$font-size: 14px;

html,
body {
	height: 100%;
}

body {
	margin: 0;
	background: url("../../img/bg.jpg") no-repeat center;
	-webkit-background-size: cover;
	background-size: cover;
	font-family: $font-family;
	font-size: $font-size;
}

::-webkit-scrollbar {
	width: 5px;
	background: rgba(90, 90, 90, .2);
}
::-webkit-scrollbar-button {
	display: none;
}
::-webkit-scrollbar-track {
	background: #eaeaea;
	opacity: 0;
}
::-webkit-scrollbar-thumb {
	background: rgba(90, 90, 90, .2);
	border-radius: 5px;
}
::-webkit-scrollbar-thumb:active {
	background: rgba(90, 90, 90, .4);
}

ul {
	margin: 0;
	padding: 0;
	list-style: none;
}

input,
button,
textarea {
	outline: none;
}

.github {
	position: fixed;
	top: 0;
	right: 0;
}

$btn-color-default: #606060;
.btn {
	padding: 4px 13px;
	border: 1px solid #e3e3e3;
	background: #fff;
	color: $btn-color-default;
	font-family: $font-family;
	cursor: pointer;

	&:hover {
		background: #f5f5f5;
	}

	&.btn-success {
		background: #f5f5f5;

		&:hover {
			border-color: #3dce3d;
			background: #3dce3d;
			color: #fff;
		}
	}
}

// ====================================
// WeChat
// ====================================

$wechat-width: 850px;
$wechat-height: 590px;
$wechat-bgcolor: #f5f5f5;
.wechat {
	position: absolute;
	top: 50%;
	left: 50%;
	width: $wechat-width;
	height: $wechat-height;
	border-radius: 2px;
	margin-left: -$wechat-width / 2;
	margin-top: -$wechat-height / 2;
	background: $wechat-bgcolor;
	overflow: hidden;

	& * {
		box-sizing: border-box;
	}
}

// ==============================
// WeChat - Sidebar
// ==============================

$sidebar-width: 300px;
$sidebar-height: 100%;
.sidebar {
	float: left;
	width: $sidebar-width;
	height: $sidebar-height;
	background: #eaeaea;
}

$tabbar-width: 50px;
$tabbar-height: 100%;
.tabbar {
	position: relative;
	float: left;
	width: $tabbar-width;
	height: $tabbar-height;
	background: #3e3e40;

	$tabbar-item-size: $tabbar-width;
	li {
		width: $tabbar-item-size;
		height: $tabbar-item-size;
		padding: $unit - 2;
		color: #fff;
		font-size: 20px;
		text-align: center;
		cursor: pointer;

		&:last-child {
			position: absolute;
			bottom: 0;
		}

		img {
			width: 100%;
			height: 100%;
			border-radius: 2px;
		}
	}
}

$search-height: 50px;
.search {
	height: $search-height;
	padding: $unit;

	$input-addon-width: 190px;
	$input-addon-height: 24px;
	.input-addon {
		display: inline-block;
		width: $input-addon-width;
		height: $input-addon-height;
		line-height: $input-addon-height;
		border: 1px solid #e1dfdf;
		background: #efefef;
		overflow: hidden;
	}

	input[type="text"] {
		width: 170px;
		height: 22px;
		border: none;
		margin-top: -1px;
		background: #efefef;
	}

	.icon-search {
		display: inline-block;
		width: 12px;
		height: 12px;
		// margin-right: 8px;
		color: #b2b2b2;
	}

	$group-chat-size: $input-addon-height;
	.group-chat {
		float: right;
		display: inline-block;
		width: $group-chat-size;
		height: $group-chat-size;
		background: #dcdcdc;
		border: none;
	}
}

// ========================
// WeChat - Sidebar -- Icon
// ========================

// ========================
// WeChat - Sidebar -- List
// ========================

$list-width: $sidebar-width - $tabbar-width;
.list {
	float: left;
	position: relative;
	width: $list-width;

	ul {
		height: $wechat-height - $search-height;
		overflow-y: auto;
	}

	.list-item {
		padding: $unit;
		overflow: hidden;

		&:hover {
			background: #d8dcdf;
		}

		&.active {
			background: #bbc1c9;
		}

		p {
			margin: 0;
		}

		.info {
			margin-left: 54px;
		}

		.time,
		.icon {
			float: right;
		}

		.time {
			color: #c7c7c7;
			font-size: 12px;
		}

		.icon {
			color: #ccc;
		}

		.pre-read {
			float: left;
			width: 135px;
			color: #8f8f8f;
			font-size: 12px;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}

		&.active {

			.name,
			.time,
			.pre-read {
				color: #000;
			}

			.icon {
				color: #818181;
			}
		}
	}

	$avatar-size: 40px;
	.avatar {
		position: relative;
		float: left;
		width: $avatar-size;
		height: $avatar-size;

		img {
			width: 100%;
			height: 100%;
			border-radius: 2px;
		}

		$unread-size: 10px;
		.unread {
			position: absolute;
			top: 0;
			right: 0;
			width: $unread-size;
			height: $unread-size;
			border-radius: $unread-size;
			margin: (-$unread-size / 2) (-$unread-size / 2) 0 0;
			background: #ff3b30;
		}
	}
}

// ==============================
// WeChat - Main
// ==============================

// $main-width: ;
$main-height: 100%;
.main {
	position: relative;
	height: $main-height;
	overflow: hidden;
}

// ========================
// WeChat - Main -- Header
// ========================

$main-header-height: 40px;
.main-header {
	height: $main-header-height;
	line-height: $main-header-height;
	text-align: center;
}

.minimize,
.maximize,
.close {
	display: inline-block;
	float: right;
	height: $main-header-height;
	line-height: $main-header-height;
	padding: 0 12px;
	cursor: pointer;

	&:hover {
		background: #e5e5e5;
	}
}

.close {

	&:hover {
		background: #e74450;
		color: #fff;
	}
}

// ========================
// WeChat - Main -- Content
// ========================

$main-content-height: 395px;
.main-content {
	height: $main-content-height;
	padding: 18px;
	overflow-y: auto;
}

.chat-msg-list {

	li {

		&:last-child {

			.message {
				margin-bottom: 0;
			}
		}

		&.self {

			.message {
				text-align: right;

				img {
					float: right;
					margin-left: 12px;
					margin-right: 0;
				}
			}
		}
	}

	.time {
		margin: 0 0 8px;
		text-align: center;
		color: #adadad;
	}

	.avatar,
	.message p {
		display: inline-block;
	}

	$avatar-size: 34px;
	.avatar {
		width: $avatar-size;
		height: $avatar-size;
		border-radius: 2px;
		overflow: hidden;
	}

	.message {
		margin-bottom: 16px;
		
		img {
			float: left;
			margin-right: 12px;
		}

		p {
			max-width: 418px;
			padding: 7px;
			margin: 0;
			background: #fff;
			border-radius: 2px;
			text-align: left;
			word-break: break-all;
		}
	}
}

// ========================
// WeChat - Main -- Footer
// ========================

.main-footer {
	padding: 10px;
	border-top: 1px solid #e0e0e0;
}

.message-input {
	text-align: right;

	textarea {
		width: 100%;
		height: 100px;
		border: 0;
		resize: none;
		background: #f5f5f5;
		line-height: 20px;
		font-size: 14px;
		font-family: $font-family;
		text-align: left;
	}
}